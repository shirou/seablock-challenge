---
title: "LTN - Logistics Train Network"
date: 2019-01-05T13:28:19+09:00
draft: false
---
LTN (Logistics Train Network) とは、回路を駆使して必要な量の資材を供給駅から要求駅に送るように自動的に列車のスケジュールを設定してくれるmodです。
ちょうどロボット物流が、供給チェストから要求チェストに自動的に送ってくれるように、LTNは列車を使ってこのネットワークを作成します。


<!--more-->

- https://forums.factorio.com/viewtopic.php?f=214&t=51072


## 公式説明

- https://forums.factorio.com/viewtopic.php?f=214&t=51073


基本的にこの公式説明にある以下の三種類のBlueprintを利用すればOKです。

- Depot
- Requester V2
- Provider

Depotは駅です。この場所に自動運転で停めた電車に対してスケジュールが自動的に設定されます。Depotが起点となるのでここに燃料補給を設定します。
定数回路を設定した駅がDepotとして設定されます。ですので、同じ名前でも構いません。RequesterとProviderは同じ名前ではだめです。


Requesterは、物資を要求している駅です。定数回路に対して欲しい物資を登録し、その数を **マイナスの数に** 設定することで、要求数を設定します。Blueprintではスタックフィルターインサータが設定されていますが、
LTNの良い所はフィルタが自動で設定されることにより、必要な物資のみが積み降ろしされることです。
V1とV2がありますが、V2はV1の欠点を直したものなのでV2が良いと思います。

{{< figure src="/images/2019-01-LTN-requester.PNG" title="Requester" class="center" >}}



Providerは物資を提供している駅です。チェストに提供する物資を補充していけば、自動的にこの物資を提供する駅だと登録されます。定数回路を設定する必要はありません。

{{< figure src="/images/2019-01-LTN-provider.PNG" title="Provider" class="center" >}}



## 注意

ProviderとRequesterはmodのglobal設定で最低1000以上の数の指定が設定されており、
さらにこれらのBlueprintで初期設定されている Request/Provide Threholdが4000以上になっています。
そのため、ちょっと試してみようと数百ぐらいのものを運ぼうと指定しても全然動かなくて悩むことになります。実際これで2時間ぐらい悩みました。
初期設定のThresholdを1000とかにしましょう。定数回路での設定とmod設定メニューのglobal設定と2種類ありますので注意してください。

また、下のチュートリアル動画で言及がありますが、貨物車の数は2台までしか動かないそうです。3台以上で試したことはありませんので実際には試していないですが。

## チュートリアル動画

- https://www.youtube.com/watch?v=U-TXRNQzL-U


## 閾値の決め方

例えば鉄板が欲しいとします。

- 鉄板が最大1600枚まで欲しい場合は鉄板を追加し、シグナルを-1600にセットする
- 1200枚を下回ったら欲しい場合はシグナルを400にセットした鉄板を追加 (-1600と400の２つになる)
- 200枚を下回ったら欲しい場合はシグナルを1400にセットした鉄板を追加する (-1600と1400の２つになる)

このあたりまだ試行錯誤中です。
